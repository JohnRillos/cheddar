(window.webpackJsonpcheddar=window.webpackJsonpcheddar||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},25:function(e,t,n){e.exports=n(48)},30:function(e,t,n){},33:function(e,t,n){},43:function(e){e.exports=JSON.parse('{"editorVersion":null,"currentSceneId":"0","bookmarkedScenes":["0"],"scenes":{"0":{"id":"0","sceneName":"New Scene","topText":"foo","imageFile":"meme-image","bottomText":"bar","choices":[{"text":"foo","nextScene":"scene-a"},{"text":"bar","nextScene":"scene-b"},{"text":"baz","nextScene":"scene-c"}]}}}')},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(19),o=n.n(a),i=(n(30),n(3)),s=n.n(i),l=(n(33),n(4)),u=n(20),m=n(6),d=n(5),p=n(7),f=n(10),b=n(9);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=n(3),O=n(43);function g(e){var t=v.get("scenes");if(console.log("scenes:",t),console.log("sceneId",e),!e)return O.scenes[0];if(t&&t[e])return t[e];throw new Error("Scene '".concat(e,"' not found!"))}var E={submitSceneForm:function(e){console.log("sceneFormInput",e);var t=e.id,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v.get("scenes"),Object(b.a)({},t,e));v.set("scenes",n),alert('Submitted scene "'.concat(e.sceneName,'"'))},getScene:g,loadScene:function(e){var t=g(e);return v.set("currentSceneId",t.id),t}},y=(n(44),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getFontWeight=function(){return 1===n.props.text.length?"bold":null},n.render=function(){return c.a.createElement("button",{type:n.props.type||"button",className:"button ".concat(n.getFontWeight()," ").concat(n.props.styles),onClick:n.props.onClick},n.props.text)},n}return Object(p.a)(t,e),t}(r.Component)),S=(n(45),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).render=function(){return c.a.createElement("div",{className:"ErrorBanner"},n.props.message)},n}return Object(p.a)(t,e),t}(r.Component)),j=(n(46),n(24)),w=n.n(j),x=n(13);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(){return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editorVersion:x.a},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){return t[e]=s.a.get(e)})),t}(["currentSceneId","bookmarkedScenes","scenes"])),new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});var e}function P(){w.a.saveAs(k(),"cheddar-project.json")}var C=function(e,t,n){return c.a.createElement("div",{className:"namedField"},c.a.createElement("div",null,"".concat(e,": ")),c.a.createElement(f.a,{className:"field",name:t,component:n?"textarea":"input"}))},I=function(){return c.a.createElement(f.b,{name:"choices",render:function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"choicesSectionHeader"},c.a.createElement("div",null,"Choices"),c.a.createElement(y,{onClick:function(){return e.push({text:"",nextScene:""})},text:"+"})),(e.form.values.choices||[]).map((function(t,n){return function(e,t,n){return c.a.createElement("div",{className:"choice",key:t},c.a.createElement("div",{className:"choiceHeader"},"Choice ".concat(t+1,": "),c.a.createElement(y,{styles:"red",onClick:function(){return e.remove(t)},text:"-"})),C("Text","".concat(n,".").concat(t,".text"),!0),C("Next Scene","".concat(n,".").concat(t,".nextScene")))}(e,n,"choices")})))}})},D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={currentSceneId:n.props.sceneId,initialValues:{},loaded:!1,error:void 0},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){try{var e=E.loadScene(this.state.currentSceneId);return console.log("scene",e),this.setState({currentSceneId:e.id,initialValues:e,loaded:!0})}catch(t){return this.setState({error:t})}}},{key:"render",value:function(){return this.state.error?c.a.createElement(S,{message:this.state.error.message}):this.state.loaded?c.a.createElement("div",{className:"formContainer"},c.a.createElement(f.d,{initialValues:this.state.initialValues,onSubmit:function(e,t){var n=t.setSubmitting;setTimeout((function(){E.submitSceneForm(e),n(!1)}),400)}},(function(e){var t=e.isSubmitting;return c.a.createElement(f.c,{className:"form"},c.a.createElement("div",{className:"fieldSections"},c.a.createElement("div",{className:"column"},C("Scene Name","sceneName"),C("Top Text","topText",!0),C("Image","imageFile"),C("Bottom Text","bottomText",!0)),c.a.createElement("div",{className:"column"},I())),c.a.createElement("div",{className:"row-right"},c.a.createElement(y,{styles:"big",type:"submit",disabled:t,text:"Submit"}),c.a.createElement(y,{styles:"big",onClick:P,text:"Export"})))}))):null}}]),t}(r.Component),T=(n(47),function(){return c.a.createElement("div",{className:"footer"},x.a)});var F=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",{className:"App-h1"},"Cheddar"),c.a.createElement("p",{className:"App-p"},"Choose Your Own Adventure Editor")),c.a.createElement(D,{sceneId:s.a.get("currentSceneId")}),c.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.fa5934aa.chunk.js.map