(window.webpackJsonpcheddar=window.webpackJsonpcheddar||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"a":"0.4.0"}')},17:function(e){e.exports=JSON.parse('{"editorVersion":null,"bookmarkedSceneIds":["start","end","scene-a"],"scenes":{"start":{"id":"start","sceneName":"The Start","topText":"foo","imageFile":"meme-image","bottomText":"bar","choices":[{"text":"foo","nextScene":"start"},{"text":"bar","nextScene":"end"},{"text":"baz","nextScene":"scene-a"}]},"scene-a":{"id":"scene-a","sceneName":"Test Scene","topText":"foo","imageFile":"meme-image","bottomText":"bar","choices":[{"text":"foo","nextScene":"start"},{"text":"bar","nextScene":"end"}]},"end":{"id":"end","sceneName":"The End","topText":"The","imageFile":"game-over","bottomText":"End","choices":[]}}}')},26:function(e,t,n){e.exports=n(50)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),c=n.n(o),s=(n(31),n(2)),i=n(8),u=n(4),l=n(3),m=n(5),d=(n(32),n(33),n(6)),p=n.n(d),f=n(17);function b(){return p.a.get("bookmarkedSceneIds")||f.bookmarkedSceneIds}var h={getBookmarkedScenes:function(){var e=b(),t=p.a.get("scenes")||{};return e.map((function(e){return t[e]})).filter(Boolean)},addBookmark:function(e){var t=new Set(b());t.add(e),p.a.set("bookmarkedSceneIds",Array.from(t))},removeBookmark:function(e){var t=new Set(b());t.delete(e),p.a.set("bookmarkedSceneIds",Array.from(t))}},v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).renderControls=function(){return a.a.createElement("div",{className:"button-row"},a.a.createElement("button",{type:"button",className:"control-button ".concat(n.isPermanent()?"disabled-hover":"danger"),onClick:function(){return n.isPermanent()?{}:n.props.removeBookmark(n.props.currentSceneId)}},"-"),a.a.createElement("button",{type:"button",className:"control-button",onClick:function(){return n.props.addBookmark(n.props.currentSceneId)}},"+"))},n.renderBookmark=function(e){return a.a.createElement("button",{type:"button",className:"control-button",onClick:function(){return n.props.changeScene(e.id)},key:e.sceneName},e.sceneName)},n.render=function(){return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"title"},"Bookmarks"),n.renderControls(),n.props.bookmarkedScenes.map(n.renderBookmark))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"isPermanent",value:function(){return["start","end"].includes(this.props.currentSceneId)}}]),t}(r.Component),k=(n(36),n(10)),S=n(22),O=n.n(S),g=n(12);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(){return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(k.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editorVersion:g.a},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){return t[e]=p.a.get(e)})),t}(["bookmarkedSceneIds","scenes"])),new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});var e}var j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).renderButton=function(e,t,n){return a.a.createElement("button",{type:"button",className:"control-button ".concat(n),onClick:t,key:e},e)},n.render=function(){return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"title"},"Data"),n.renderButton("Export to File",(function(){O.a.saveAs(y(),"cheddar-project.json")})),n.renderButton("Reset",(function(){return p.a.clear()}),"danger"))},n}return Object(m.a)(t,e),t}(r.Component),N=n(11);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=n(6),B=n(17);var C={submitSceneForm:function(e){var t=e.id,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(k.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},w.get("scenes"),Object(k.a)({},t,e));w.set("scenes",n),console.info('Submitted scene "'.concat(e.sceneName,'"'))},getScene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start",t=w.get("scenes");if(!t)return w.set("scenes",B.scenes),B.scenes.start;if(t&&t[e])return t[e];throw new Error("Scene '".concat(e,"' not found!"))}},P=(n(46),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).getFontWeight=function(){return 1===n.props.text.length?"bold":null},n.getDisabled=function(){return n.props.disabled?"disabled":null},n.render=function(){return a.a.createElement("button",{type:n.props.type||"button",className:"button ".concat(n.getFontWeight()," ").concat(n.getDisabled()," ").concat(n.props.styles),onClick:n.props.onClick},n.props.text)},n}return Object(m.a)(t,e),t}(r.Component)),T=(n(47),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return a.a.createElement("div",{className:"ErrorBanner"},n.props.message)},n}return Object(m.a)(t,e),t}(r.Component)),I=(n(48),function(e,t,n){return a.a.createElement("div",{className:"namedField"},a.a.createElement("div",null,"".concat(e,": ")),a.a.createElement(N.a,{className:"field",name:t,component:n?"textarea":"input"}))}),D=function(){return a.a.createElement(N.b,{name:"choices",render:function(e){return a.a.createElement("div",null,a.a.createElement("div",{className:"choicesSectionHeader"},a.a.createElement("div",{className:"sectionHeaderLabel"},"Choices"),a.a.createElement(P,{onClick:function(){return e.push({text:"",nextScene:""})},text:"+"})),(e.form.values.choices||[]).map((function(t,n){return function(e,t,n){return a.a.createElement("div",{className:"choice",key:t},a.a.createElement("div",{className:"choiceHeader"},"Choice ".concat(t+1,": "),a.a.createElement(P,{styles:"red",onClick:function(){return e.remove(t)},text:"-"})),I("Text","".concat(n,".").concat(t,".text"),!0),I("Next Scene","".concat(n,".").concat(t,".nextScene")))}(e,n,"choices")})))}})},A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={loaded:!1,error:void 0},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){try{return this.setState({loaded:!0})}catch(e){return this.setState({error:e})}}},{key:"render",value:function(){return this.state.error?a.a.createElement(T,{message:this.state.error.message}):this.state.loaded?a.a.createElement("div",{className:"formContainer"},a.a.createElement(N.d,{initialValues:this.props.initialValues,enableReinitialize:!0,initialStatus:{savedValues:this.props.initialValues},onSubmit:function(e,t){var n=t.setSubmitting,r=t.setStatus;setTimeout((function(){C.submitSceneForm(e),n(!1),r({savedValues:e})}),400)}},(function(e){return a.a.createElement(N.c,{className:"form"},a.a.createElement("div",{className:"fieldSections"},a.a.createElement("div",{className:"column"},I("Scene Name","sceneName"),I("Top Text","topText",!0),I("Image","imageFile"),I("Bottom Text","bottomText",!0)),a.a.createElement("div",{className:"column"},D())),a.a.createElement("div",{className:"row-right"},a.a.createElement(P,{styles:"big",type:"submit",disabled:e.isSubmitting||e.status.savedValues===e.values,text:"Save Scene"})))}))):null}}]),t}(r.Component),F=(n(49),function(){return a.a.createElement("div",{className:"footer"},g.a)}),V=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={currentSceneId:void 0,bookmarkedScenes:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"changeScene",value:function(e){return this.setState({currentSceneId:e})}},{key:"componentDidMount",value:function(){return this.setState({bookmarkedScenes:h.getBookmarkedScenes()})}},{key:"refreshBookmarks",value:function(){this.setState({bookmarkedScenes:h.getBookmarkedScenes()})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",{className:"App-h1"},"Cheddar"),a.a.createElement("p",{className:"App-p"},"Choose Your Own Adventure Editor")),a.a.createElement("div",{className:"main-row"},a.a.createElement("div",{className:"left-panel"},a.a.createElement(v,{bookmarkedScenes:this.state.bookmarkedScenes,currentSceneId:this.state.currentSceneId||"start",changeScene:function(t){return e.changeScene(t)},addBookmark:function(t){h.addBookmark(t),e.refreshBookmarks()},removeBookmark:function(t){h.removeBookmark(t),e.refreshBookmarks()}})),a.a.createElement(A,{initialValues:C.getScene(this.state.currentSceneId)}),a.a.createElement("div",{className:"right-panel"},a.a.createElement(j,null))),a.a.createElement(F,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.c3ad631b.chunk.js.map